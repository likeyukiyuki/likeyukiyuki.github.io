---
title: 周报-2023.09.04
date: 2023-09-04 20:52:09
tags:
---
这份周报记录的是上周的工作内容，由于一些原因今天才写成。
# 上周的主要工作内容是
1. 将番茄钟彻底完工收尾
2. 搭建了个人博客
3. 将番茄钟的相关内容写成文档上传到博客上
## 番茄钟收尾中遇到的问题
#### 调试方面
在之前编写的过程中都没有进行过断点调试，后来尝试在后端进行断点调试的时候遇到了一些问题。
首先是在vscode中断点调试也是在需要进行断点的代码行旁进行断点添加，然后在运行调试即可。
而我始终开始运行调试后始终没有响应，后来发现是因为一开始已经启动了后端，而进行调试的时候又启动了一次后端，等于在调试时有两个后端，因此前端发送的请求并没有被当前调试的后端接受到，所以就一直没有反应。
其次是在调试后端时如果需要触发断点需要前端发送的请求，所以在前端也必须进行相应的操作对后端发送请求才行。
#### 代码部分-增加轮数
一开始我的想法是定义一个变量count，当一轮计数结束时count++。但是一开始把它添加进了click函数（此函数由点击开始按钮触发）里。
```ts
function click() {
  if (minutes.value <= 0 && seconds.value <= 0) {
    
    minutes.value = 30;
    seconds.value = 0;
    timeFn();
    // msg.value=count.toString()
  } else {
    timeFn();
  }
  

}

```
造成的结果是我无论运行了几轮，count始终等于1。后来经过朋友的提醒我才想到count这种计数的变量应该加入计时器timefn函数中，而不是需要点击才会触发的click函数里，由此解决了问题。
```ts
function timeFn() {
  is_pause.value = false;
  clearInterval(timer);
  timer = window.setInterval(() => {
    clock()
    if (minutes.value <= 0 && seconds.value <= 0) {
      state.value = State.Init;
      count=1;
      console.log(count);
      pauseFn();
      vue_count();
    } else {
      if (seconds.value == 0) {
        seconds.value = 60;
        minutes.value--;
      } else {
        seconds.value--;
      }
    }
  }, 1000);
  ```
  番茄钟里的问题就到此为止啦。
## 搭建个人博客时遇到的问题
我采用的是hexo加git，一开始参照教程一路走下来挺顺畅的（其实也不是，但是主要问题都是由于没有认真看教程的锅，下次一定要认真看教程），但是当配置主题出现问题的时候想要利用git恢复版本却发现了问题。
#### 源代码并没有被git管理
当我遇到问题想要恢复版本时发现，git管理的是hexo生成的网页文件，源代码并没有被git管理，而网页文件恰恰是依靠源代码进行生成的，于是我在尝试过多种方法解决无果之后重新搭建了一次，在搭建成功后立刻在git上创建分支将源代码提交到新分支进行管理。
## 将写好的文档放入博客时遇到的问题
其实第一篇番茄钟放入博客时非常顺利，唯一的问题是图片不能正常显示。但是在后面我想使用插件让图片可以正常显示时发生了问题，下载完插件后进行本地运行，博客主页显示”cannot get/“ 在网上查询解决方案后开始排查问题。
1. source/posts里没有放md文件
不成立，一开始就放入写了番茄钟的md文件了
2. public里的index.html文件为0kb
我去检查了public文件内的index.html文件，发现根本不存在。
3. public里没有index.html文件
看来就是这个原因了
然后这时朋友帮忙远程解决了问题，网页正常显示了。虽然图片的问题还没解决，但我想先暂时把周报写完再继续搞图片的问题，就在我生成新文章时，网页出现“cannot get/”的事情又发生了。
最后弄了半天终于解决，以下是朋友帮忙解决后总结的思路：
1. 我们只做了少量的修改却导致严重问题 -> 问题出在git版本管理之外的文件
2. 我们仔细检查了hexo的配置 -> 不太可能是hexo配置或文件出错
3. public内任何html文件没有正确生成 -> 可能是markdown转html的步骤出错
再进一步思考
1. 1-> git管理之外的文件，deploy、public这些是动态生成的，肯定不会是他们的问题，node_modules是根据package.json生成的，如果有问题，说明两个都有问题
2. 2-> 说明hexo确实没问题
3. 3-> 说明可能是md转html的渲染器问题
因此，可以得出结论，是之前自己操作时(或者hexo在默认情况下)，没有把必要的md转html渲染器放到 package.json 中，也就是 npm install 时没有加 --save参数，导致这个插件存在于 node_modules 文件夹内（因为我们最开始能运行），但是在进行了npm操作后，由于这个插件不在 package.json 中，被npm卸载了。
1. "npm install 名称"只是下载这个插件
2. "npm install --save 名称"是下载这个插件并且存入package.json
3. 而"npm install"是把本地的 node_modules 按照 package.json 进行修改
因此，没有save的情况下下载后，再进行npm操作，就可能会把下载的插件卸载掉。在重新下载了必要插件，并且用save保存到了package.json中以后这个问题就圆满解决啦。
## 本周的计划
#### 1.学习Linux操作系统
初步了解并且学会使用相关命令。
#### 2.解决博客不显示图片的问题
这个问题也算是存在许久了，本周一定要解决掉

----

目前想法就这些了，希望这周的计划可以顺利进行。
